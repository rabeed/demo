<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<meta charset="UTF-8" />
	<title>JEE7 Starter</title>

	<h:outputScript library="jquery-2.2.1" name="jquery.js" />
	<h:outputScript library="bootstrap-3.3.6" name="/js/bootstrap.js" />
	<ui:insert name="customScripts" />

	<h:outputStylesheet library="bootstrap-3.3.6"
		name="/css/bootstrap-jsf.css" />
	<ui:insert name="customStylesheets" />
</h:head>
<h:body>


	<f:view>
		<ui:composition template="../templates/template.xhtml">
			<ui:define name="panel-top">
				<h3>review order</h3>
			</ui:define>
			<ui:define name="pageContent">

				<h:form id="review">
					<h:dataTable var="l" value="#{shoppingCart.lines}">
						<h:column>
							<f:facet name="header">Products</f:facet>
							<h:outputLink value="product-details.xhtml">
								<f:param name="id" value="#{l.product.id}" />
									#{l.product.name}
									</h:outputLink>
						</h:column>
						<h:column>
							<f:facet name="header">price</f:facet>
							<h:outputText value="#{l.product.price}">
								<f:convertNumber type="currency" currencySymbol="$" />
							</h:outputText>
									#{l.product.price}
								</h:column>
						<h:column>
							<f:facet name="header">quantity</f:facet>
									#{l.quantity}
									<h:commandButton
								action="#{shoppingCart.addMoreItems(l.product)}" value="+" />
							<h:commandButton
								action="#{shoppingCart.removeProduct(l.product)}" value="-" />
						</h:column>
						<h:column>
							<f:facet name="header">amount</f:facet>
									#{l.amount}
									<f:facet name="footer">	#{shoppingCart.totalAmount}</f:facet>
						</h:column>

					</h:dataTable>
					<p>ship to #{checkout.shippingName} ,
						#{checkout.shippingAddress}</p>
					<h:commandButton value="confirm" action="execute" styleClass="button-right" />
					<h:commandButton value="cancel"  action="finish" styleClass="button-right" />
				</h:form>
			</ui:define>
		</ui:composition>
	</f:view>
</h:body>
</html>
